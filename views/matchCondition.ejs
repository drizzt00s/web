<div class="matchRequirement" id="matchRequirement">  <span>您的择偶要求:</span>  <ul id="matchDetail">   <li><span>所在地区:<span><span id="matchArea">不限<span></li>   <li><span>年龄范围:<span><span id="matchAge">不限<span></li>   <li><span>婚史:<span><span id="matchMarriageStatus">不限<span></li>   <li><span>身高范围:<span><span id="matchHeight">不限<span></li>   <li><span>学历:<span><span id="matchEducation">不限<span></li>   <li><span>民族:<span><span id="matchRace">不限<span></li>   <li><span>诚信等级:<span><span id="matchProofRanking">不限<span></li>   <li><span>有无照片:<span><span id="matchIfHasPic">不限<span></li>    </ul></div><div class="setCondtion" id="setCondtion">    <span>您的择偶要求:</span><br />	<script src="/javascript/selectLocation.js"></script><!--年龄和地区-->    <span>婚姻状况:</span><br />	<input type="checkbox" name="marriageStatus" class="marriageStatus" value="未婚" /><span></span>未婚<br />	<input type="checkbox" name="marriageStatus" class="marriageStatus" value="离异" /><span></span>离异<br />	<input type="checkbox" name="marriageStatus" class="marriageStatus" value="丧偶" /><span></span>丧偶<br />	<div class="height">      <label for="height">身高:</label>        <select id="height">		   <option>140</option>           <option>141</option>           <option>142</option>           <option>143</option>           <option>144</option>           <option>145</option>           <option>146</option>           <option>147</option>           <option>148</option>           <option>149</option>           <option>150</option>           <option>151</option>           <option>152</option>           <option>153</option>           <option>154</option>		   <option>155</option>           <option>156</option>           <option>157</option>           <option>158</option>		   <option>159</option>           <option>160</option>           <option>161</option>           <option>162</option>           <option>163</option>           <option>164</option>           <option>165</option>           <option>166</option>           <option>167</option>           <option>168</option>           <option>169</option>           <option>170</option>           <option>171</option>           <option>172</option>           <option>173</option>           <option>174</option>           <option>175</option>           <option>176</option>           <option>177</option>           <option>178</option>           <option>179</option>           <option>180</option>           <option>181</option>           <option>182</option>           <option>183</option>           <option>184</option>           <option>185</option>           <option>186</option>           <option>187</option>           <option>188</option>           <option>189</option>           <option>190</option>           <option>191</option>           <option>192</option>           <option>193</option>           <option>194</option>           <option>195</option>           <option>196</option>           <option>197</option>           <option>198</option>           <option>199</option>           <option>200</option>        </select>-<select id="height2">           <option>140</option>           <option>141</option>           <option>142</option>           <option>143</option>           <option>144</option>           <option>145</option>           <option>146</option>           <option>147</option>           <option>148</option>           <option>149</option>           <option>150</option>           <option>151</option>           <option>152</option>           <option>153</option>           <option>154</option>		   <option>155</option>           <option>156</option>           <option>157</option>           <option>158</option>		   <option>159</option>           <option>160</option>           <option>161</option>           <option>162</option>           <option>163</option>           <option>164</option>           <option>165</option>           <option>166</option>           <option>167</option>           <option>168</option>           <option>169</option>           <option>170</option>           <option>171</option>           <option>172</option>           <option>173</option>           <option>174</option>           <option>175</option>           <option>176</option>           <option>177</option>           <option>178</option>           <option>179</option>           <option>180</option>           <option>181</option>           <option>182</option>           <option>183</option>           <option>184</option>           <option>185</option>           <option>186</option>           <option>187</option>           <option>188</option>           <option>189</option>           <option>190</option>           <option>191</option>           <option>192</option>           <option>193</option>           <option>194</option>           <option>195</option>           <option>196</option>           <option>197</option>           <option>198</option>           <option>199</option>           <option>200</option>        </select>米    </div><!--height-->	   <label>教育程度:</label>   <select id="education">     <option>不限</option>	 <option>小学及以上</option>	 <option>初中及以上</option>     <option>高中及以上</option>     <option>大专及以上</option>     <option>本科及以上</option>     <option>硕士及以上</option>     <option>博士及以上</option>   </select><br />         <label>民族:</label>   <select id="race">     <option>不限</option>	 <option>汉族</option>	 <option>蒙古族</option>     <option>回族</option>     <option>藏族</option>     <option>壮族</option>     <option>布依族</option>     <option>朝鲜族</option>	 <option>满族</option>	 <option>其他民族</option>   </select><br />         <label>有无照片:</label><br />   <input type="radio" name="ifHasPic" class="ifHasPic" value="1" /><span>有照片</span><br />   <input type="radio" checked="checked" name="ifHasPic" class="ifHasPic" value="0" /><span>不限</span><br />      <label>诚信等级:</label><br />   <input type="radio" name="proofRanking" class="proofRanking" value="1" /><span>星级会员</span><br />   <input type="radio" checked="checked" name="proofRanking" class="proofRanking" value="0" /><span>不限</span><br />   <br />         <!--是否为强制条件，如果设成强制条件，不满足条件的用户之间无法交流-->   <input type="radio" name="isCompulsive" class="isCompulsive" value="1" /><span>我要设定必须符合的择友条件</span><br />   <input type="radio" checked="checked" name="isCompulsive" class="isCompulsive" value="0" /><span>以上条件仅供参考</span><br />         <button id="saveCondtion">保存</button>   </div><script type="text/javascript">   $(function(){       $("#saveCondtion").bind("click",function(){	       var username=getTargetCookie("username");		   var storeData={};		   var storeMarriageStatus=[];		   $.each($(".marriageStatus"),function(i,v){		      var isChecked=v.checked;			  if(isChecked){			     storeMarriageStatus.push($(v).val());			  }		   });		   var ageFrom=$("#searchAge1").val();		   var ageTo=$("#searchAge2").val();		   var areaProvince=$("#searchLocation").val();		   var areaCity=$("#searchLocation2").val();		   var heightFrom=$("#height").val();	       var heightTo=$("#height2").val();		   var race=$("#race").val();		   var education=$("#education").val();		   var ifHasPic=$(".ifHasPic:checked").val();		   var proofRanking=$(".proofRanking:checked").val();    		   var isCompulsive=$(".isCompulsive:checked").val();			   storeData["storeMarriageStatus"]=storeMarriageStatus;		   storeData["ageFrom"]=ageFrom;		   storeData["ageTo"]=ageTo;		   storeData["areaProvince"]=areaProvince;		   storeData["areaCity"]=areaCity;		   storeData["heightFrom"]=heightFrom;		   storeData["heightTo"]=heightTo;		   storeData["race"]=race;		   storeData["education"]=education;		   storeData["ifHasPic"]=ifHasPic;		   storeData["proofRanking"]=proofRanking;		   storeData["isCompulsive"]=isCompulsive;		   storeData["username"]=username;		   var url="matchConditionPost";           $.ajax({		     url:url,			 type:"post",			 cache:false,			 data:{d:storeData},			 success:function(d){			   alert(d);			   window.location.href=window.location.href;			 },		     error:function(){			 }		   });	   });	   	   updateCondtion();	   function updateCondtion(){         var username=getTargetCookie("username");		 var url="fetchCondtion"; 		 $.ajax({		   url:url,		   data:{username:username},		   type:"post",		   cache:false,		   success:function(d){			  d=eval("("+d[0].matchCondtion+")");			  var storeAll={};			  storeAll.ageFrom=d.ageFrom;			  storeAll.ageTo=d.ageTo;			  storeAll.areaProvince=d.areaProvince;			  storeAll.areaCity=d.areaCity;			  storeAll.heightFrom=d.heightFrom;			  storeAll.heightTo=d.heightTo;			  storeAll.race=d.race;			  storeAll.education=d.education;			  storeAll.ifHasPic=d.ifHasPic;			  storeAll.proofRanking=d.proofRanking;			  storeAll.isCompulsive=d.isCompulsive;			  storeAll.marriageStatus=d.storeMarriageStatus;			  updateMatchRequirement(storeAll);			  updateSetCondtion(storeAll);		   },		   error:function(){		   }		 });       }	   	  	   			   	   function updateMatchRequirement(o){	       var areaProvince=o.areaProvince;		   if(areaProvince!=="任意"){		      var areaCity=o.areaCity;			  if(areaCity=="任意"){			    var area=areaProvince;			  }			  else{                area=areaProvince+" "+areaCity			  }			  $("#matchArea").text(area);		   }		   var ageFrom=o.ageFrom;		   var ageTo=o.ageTo;		   if(parseInt(ageFrom)==parseInt(ageTo)){		     var ageScope=ageFrom+"岁";		   }		   else{		    var ageScope=ageFrom+"岁"+" 到 "+ageTo+"岁";		   }		   $("#matchAge").text(ageScope);		   var marriageStatus=o.marriageStatus;		   if(marriageStatus instanceof Array){		     var marriageScope="";		   for(var i=0;i<marriageStatus.length;i++){		       marriageScope+=marriageStatus[i]+" ";		   }		     $("#matchMarriageStatus").text(marriageScope);		  }		   var heightFrom=o.heightFrom;		   var heightTo=o.heightTo;		   if(parseInt(heightFrom)==parseInt(heightTo)){		     var heightScope=heightFrom+"米";		   }		   else{		    var heightScope=heightFrom+"米"+" 到 "+heightTo+"米";		   }		   $("#matchHeight").text(heightScope);		   		     var education=o.education;		     if(education!="任意"){			   $("#matchEducation").text(education);		   }		     var race=o.race;		     if(race!="任意"){			   $("#matchRace").text(race);		   }		     var ifHasPic=o.ifHasPic;		     if(ifHasPic==0){			   $("#matchIfHasPic").text("不限");		     }			 else if(ifHasPic==1){			  $("#matchIfHasPic").text("有");			 }			 var proofRanking=o.proofRanking;			   if(proofRanking==0){			   $("#matchProofRanking").text("不限");		     }			 else if(proofRanking==1){			  $("#matchProofRanking").text("星级会员");			 }	   }	 	 	 function updateSetCondtion(o){        var ageFrom=o.ageFrom;		var ageTo=o.ageTo;		var areaProvince=o.areaProvince;		var areaCity=o.areaCity;		var heightFrom=o.heightFrom;		var heightTo=o.heightTo;		var education=o.education;		var race=o.race;		var ifHasPic=o.ifHasPic;		var proofRanking=o.proofRanking;		var isCompulsive=o.isCompulsive;	    var marriageStatus=o.marriageStatus;        if(marriageStatus){		 setCheckboxDefault("marriageStatus",marriageStatus);		}		setSelectDefault("searchAge1",ageFrom);		setSelectDefault("searchAge2",ageTo);        setSelectDefault("searchLocation",areaProvince);		setCity();	    setSelectDefault("searchLocation2",areaCity);		setSelectDefault("height",heightFrom);	    setSelectDefault("height2",heightTo);		setSelectDefault("education",education);		setSelectDefault("race",race);		setRadioDefault("ifHasPic",ifHasPic);		setRadioDefault("proofRanking",proofRanking);		setRadioDefault("isCompulsive",isCompulsive);	 }	 	function setSelectDefault(id,setValue){	   var select=document.getElementById(id);	   select=$(select);	   options=select.find("option");	   $.each(options,function(i,v){	      if(setValue==$(v).text()){		      select[0].selectedIndex=i;			  return false;		  }	   })	}		function setRadioDefault(radioClass,setValue){	      var radio=$("."+radioClass);		  $.each(radio,function(i,v){		     if($(v).val()==setValue){			     v.checked="checked";			 }		  });	}		function setCheckboxDefault(checkboxClass,valueArray){	  var checkbox=$("."+checkboxClass);	  for(var i=0;i<valueArray.length;i++){	     $.each(checkbox,function(index,v){		     if($(v).val()==valueArray[i]){			    v.checked="checked";			 }		 });	  }	}	   	   	   	   	      })</script>